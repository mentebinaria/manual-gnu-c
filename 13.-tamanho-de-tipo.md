---
layout:
  title:
    visible: true
  description:
    visible: false
  tableOfContents:
    visible: true
  outline:
    visible: true
  pagination:
    visible: true
---

# üìê 13. Tamanho de Tipo

Cada tipo de dado possui um tamanho, que √© o n√∫mero de bytes (veja [_Armazenamento e Dados_](3.-armazenamento-e-dados.md)) que ele ocupa na mem√≥ria. Para referenciar esse tamanho em um programa C, usa-se `sizeof`. Existem duas formas de utiliz√°-lo:

**`sizeof express√£o`**\
Essa forma retorna o tamanho da **express√£o**, com base em seu tipo de dado. Ela **n√£o** calcula o valor da express√£o ‚Äî apenas seu tamanho ‚Äî, ent√£o, se a express√£o contiver efeitos colaterais ou chamadas de fun√ß√£o, eles **n√£o** ser√£o executados. Portanto, `sizeof` √© sempre uma opera√ß√£o em tempo de compila√ß√£o e n√£o tem custo em tempo de execu√ß√£o.

N√£o √© permitido usar como operando de `sizeof` um valor que seja um campo de bits (veja [_Campos de Bits_](#user-content-fn-1)[^1]).

Por exemplo:

```c
double a;
i = sizeof a + 10;
```

inicializa `i` com 18 na maioria dos computadores, porque `a` ocupa 8 bytes.

Veja como determinar o n√∫mero de elementos de um array `array`:

```c
(sizeof array / sizeof array[0])
```

A express√£o `sizeof array` retorna o tamanho do array, e **n√£o** o tamanho de um ponteiro para um elemento. No entanto, se a express√£o for um par√¢metro de fun√ß√£o declarado como array, essa vari√°vel na verdade tem tipo de ponteiro (veja [_Par√¢metro de Array como Ponteiro_](#user-content-fn-1)[^1]), portanto o resultado ser√° o tamanho desse ponteiro.

**`sizeof (tipo)`**\
Essa forma retorna o tamanho de **tipo**. Por exemplo:

```c
i = sizeof (double) + 10;
```

√© equivalente ao exemplo anterior.

N√£o √© permitido aplicar `sizeof` a um tipo incompleto (veja [_Tipos Incompletos_](#user-content-fn-1)[^1]), nem a `void`. Aplic√°-lo a um tipo de fun√ß√£o retorna 1 no GNU C, o que permite que a adi√ß√£o de um inteiro a um ponteiro de fun√ß√£o funcione como desejado (veja [_Aritm√©tica com Ponteiros_](#user-content-fn-1)[^1]).

***

**Aviso:** Ao usar `sizeof` com um **tipo** em vez de uma express√£o, √© obrigat√≥rio escrever par√™nteses em torno do tipo.

**Aviso:** Ao aplicar `sizeof` ao resultado de um cast (veja [_Convers√£o Expl√≠cita de Tipo_](#user-content-fn-1)[^1]), tamb√©m √© necess√°rio colocar par√™nteses ao redor da express√£o de cast para evitar ambiguidade na gram√°tica da linguagem C. Especificamente:

```c
sizeof (int) -x
```

√© interpretado como:

```c
(sizeof (int)) - x
```

Se o que se deseja √©:

```c
sizeof ((int) -x)
```

deve-se escrever exatamente assim, com os par√™nteses adicionais.

***

O tipo do valor retornado por `sizeof` √© sempre um tipo inteiro **sem sinal**; qual exatamente depende da m√°quina. O cabe√ßalho `stddef.h` define o nome `size_t` como um alias (`typedef`) para esse tipo. Veja [_Definindo Nomes com Typedef_](#user-content-fn-1)[^1].

[^1]: Pendente de tradu√ß√£o
